<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>GLI::App</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="../../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../css/github.css" type="text/css" media="screen" />
<script src="../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>
    <div class="banner">
        
        <h1>
            <span class="type">Module</span>
            GLI::App
            
        </h1>
        <ul class="files">
            
            <li><a href="../../files/lib/gli/app_rb.html">lib/gli/app.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<p>A means to define and parse a command line interface that works as
Git&#39;s does, in that you specify global options, a command name, command
specific options, and then command arguments.</p>

    </div>
  


  


  
  


  


  
    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
      
        <dt>A</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-accept">accept</a>,
              </li>
            
              
              <li>
                <a href="#method-i-arguments">arguments</a>,
              </li>
            
              
              <li>
                <a href="#method-i-around">around</a>,
              </li>
            
              
              <li>
                <a href="#method-i-autocomplete_commands">autocomplete_commands</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>C</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-commands_from">commands_from</a>,
              </li>
            
              
              <li>
                <a href="#method-i-config_file">config_file</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>D</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-default_command">default_command</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>E</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-exit_now-21">exit_now!</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>H</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-help_now-21">help_now!</a>,
              </li>
            
              
              <li>
                <a href="#method-i-hide_commands_without_desc">hide_commands_without_desc</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>O</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-on_error">on_error</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>P</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-post">post</a>,
              </li>
            
              
              <li>
                <a href="#method-i-pre">pre</a>,
              </li>
            
              
              <li>
                <a href="#method-i-preserve_argv">preserve_argv</a>,
              </li>
            
              
              <li>
                <a href="#method-i-program_desc">program_desc</a>,
              </li>
            
              
              <li>
                <a href="#method-i-program_long_desc">program_long_desc</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>S</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-skips_around">skips_around</a>,
              </li>
            
              
              <li>
                <a href="#method-i-skips_post">skips_post</a>,
              </li>
            
              
              <li>
                <a href="#method-i-skips_pre">skips_pre</a>,
              </li>
            
              
              <li>
                <a href="#method-i-sort_help">sort_help</a>,
              </li>
            
              
              <li>
                <a href="#method-i-subcommand_option_handling">subcommand_option_handling</a>,
              </li>
            
              
              <li>
                <a href="#method-i-synopsis_format">synopsis_format</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>U</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-use_openstruct">use_openstruct</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>V</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-version">version</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>W</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-wrap_help_text">wrap_help_text</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  

  
    <!-- Includes -->
    <div class="sectiontitle">Included Modules</div>
    <ul>
      
        <li>
          
            <a href="DSL.html">
              GLI::DSL
            </a>
          
        </li>
      
        <li>
          
            AppSupport
          
        </li>
      
    </ul>
  



  

    

    

    


    


    <!-- Methods -->
        
      <div class="sectiontitle">Instance Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-i-accept">
            
              <b>accept</b>(object,&amp;block)
            
            <a href="../../classes/GLI/App.html#method-i-accept" name="method-i-accept" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Configure a type conversion not already provided by the underlying
OptionParser. This works more or less like the OptionParser version.
It&#39;s global.</p>
<dl class="rdoc-list note-list"><dt>object
<dd>
<p>the class (or whatever) that triggers the type conversion</p>
</dd><dt>block
<dd>
<p>the block that will be given the string argument and is expected to return
the converted value</p>
</dd></dl>

<p>Example</p>

<pre><code>accept(Hash) do |value|
  result = {}
  value.split(/,/).each do |pair|
    k,v = pair.split(/:/)
    result[k] = v
  end
  result
end

flag :properties, :type =&gt; Hash
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-accept_source')" id="l_method-i-accept_source">show</a>
                
              </p>
              <div id="method-i-accept_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/gli/app.rb, line 212</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">accept</span>(<span class="ruby-identifier">object</span>,<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">accepts</span>[<span class="ruby-identifier">object</span>] = <span class="ruby-identifier">block</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-arguments">
            
              <b>arguments</b>(handling_strategy)
            
            <a href="../../classes/GLI/App.html#method-i-arguments" name="method-i-arguments" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>How to handle argument validation.</p>
<dl class="rdoc-list note-list"><dt>handling_strategy
<dd>
<p>One of:</p>
<dl class="rdoc-list note-list"><dt>:loose
<dd>
<p>no argument validation.  Use of `arg` or `arg_name` is for documentation
purposes only.  (Default)</p>
</dd><dt><code>:strict</code>
<dd>
<p>arguments are validated according to their specification. 
<code>action</code> blocks may assume the value of `arguments` matches the
specification provided in `arg`.  Note that to use this strategy, you must
also be sure that <code>subcommand_option_handling</code> is set.</p>
</dd></dl>
</dd></dl>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-arguments_source')" id="l_method-i-arguments_source">show</a>
                
              </p>
              <div id="method-i-arguments_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/gli/app.rb, line 301</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">arguments</span>(<span class="ruby-identifier">handling_strategy</span>)
  <span class="ruby-ivar">@argument_handling_strategy</span> = <span class="ruby-identifier">handling_strategy</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-around">
            
              <b>around</b>(&amp;a_proc)
            
            <a href="../../classes/GLI/App.html#method-i-around" name="method-i-around" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>This inverts the pre/post concept.  This is useful when you have a global
shared resource that is governed by a block instead of separate open/close
methods.  The block you pass here will be given four parameters:</p>
<dl class="rdoc-list note-list"><dt>global options
<dd>
<p>the parsed global options</p>
</dd><dt>command
<dd>
<p>The <a href="Command.html">GLI::Command</a> that the user is going to
invoke</p>
</dd><dt>options
<dd>
<p>the command specific options</p>
</dd><dt>args
<dd>
<p>unparsed command-line args</p>
</dd><dt>code
<dd>
<p>a block that you must <code>call</code> to execute the command.</p>
</dd></dl>

<p><a href="App.html#method-i-help_now-21">help_now!</a> and <a
href="App.html#method-i-exit_now-21">exit_now!</a> work as expected; you
can abort the command call by simply not calling it.</p>

<p>You can declare as many <a href="App.html#method-i-around">around</a>
blocks as you want.  They will be called in the order in which they are
defined.</p>

<p>Note that if you declare <a href="App.html#method-i-around">around</a>
blocks, <a href="App.html#method-i-pre">pre</a> and <a
href="App.html#method-i-post">post</a> blocks will still work.  The <a
href="App.html#method-i-pre">pre</a> is called first, followed by the
around, followed by the <a href="App.html#method-i-post">post</a>.</p>

<p>Call <a href="App.html#method-i-skips_around">skips_around</a> before a
command that should not have this hook fired</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-around_source')" id="l_method-i-around_source">show</a>
                
              </p>
              <div id="method-i-around_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/gli/app.rb, line 147</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">around</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">a_proc</span>)
  <span class="ruby-ivar">@around_blocks</span> <span class="ruby-operator">||=</span> []
  <span class="ruby-ivar">@around_blocks</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">a_proc</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-autocomplete_commands">
            
              <b>autocomplete_commands</b>(boolean)
            
            <a href="../../classes/GLI/App.html#method-i-autocomplete_commands" name="method-i-autocomplete_commands" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Enables/Disables command autocomplete, where partially spelled commands are
automatically expanded to their full form</p>

<p>Example: When enabled, executing &#39;shake&#39; would execute
&#39;shake_hand&#39; (if no &#39;shake&#39; command is defined). When
disabled, executing &#39;shake&#39; would throw an <a
href="UnknownCommand.html">UnknownCommand</a> error</p>
<dl class="rdoc-list note-list"><dt><code>boolean</code>
<dd>
<p>Boolean value to enable or disable autocomplete, respectively. True by
default.</p>
</dd></dl>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-autocomplete_commands_source')" id="l_method-i-autocomplete_commands_source">show</a>
                
              </p>
              <div id="method-i-autocomplete_commands_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/gli/app.rb, line 313</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">autocomplete_commands</span>(<span class="ruby-identifier">boolean</span>)
  <span class="ruby-ivar">@autocomplete</span> = <span class="ruby-identifier">boolean</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-commands_from">
            
              <b>commands_from</b>(path)
            
            <a href="../../classes/GLI/App.html#method-i-commands_from" name="method-i-commands_from" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Loads ruby files in the load path that start with <code>path</code>, which
are presumed to be commands for your executable. This is useful for
decomposing your bin file into different classes, but can also be used as a
plugin mechanism, allowing users to provide additional commands for your
app at runtime.  All that being said, it&#39;s basically a glorified
<code>require</code>.</p>
<dl class="rdoc-list note-list"><dt>path
<dd>
<p>a path from which to load <code>.rb</code> files that, presumably, contain
commands.  If this is an absolute path, any files in that path are loaded. 
If not, it is interpretted as relative to somewhere in the
<code>LOAD_PATH</code>.</p>
</dd></dl>

<h2 id="method-i-commands_from-label-Example-3A">Example:</h2>

<pre><code># loads *.rb from your app&#39;s install - great for decomposing your bin file
commands_from &quot;my_app/commands&quot;

# loads *.rb files from the user&#39;s home dir - great and an extension/plugin mechanism
commands_from File.join(ENV[&quot;HOME&quot;],&quot;.my_app&quot;,&quot;plugins&quot;)
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-commands_from_source')" id="l_method-i-commands_from_source">show</a>
                
              </p>
              <div id="method-i-commands_from_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/gli/app.rb, line 32</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">commands_from</span>(<span class="ruby-identifier">path</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-constant">Pathname</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">path</span>).<span class="ruby-identifier">absolute?</span> <span class="ruby-keyword">and</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-identifier">path</span>)
    <span class="ruby-identifier">load_commands</span>(<span class="ruby-identifier">path</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">$LOAD_PATH</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">load_path</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">commands_path</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">load_path</span>,<span class="ruby-identifier">path</span>)
      <span class="ruby-identifier">load_commands</span>(<span class="ruby-identifier">commands_path</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-config_file">
            
              <b>config_file</b>(filename)
            
            <a href="../../classes/GLI/App.html#method-i-config_file" name="method-i-config_file" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Sets that this app uses a config file as well as the name of the config
file.</p>
<dl class="rdoc-list note-list"><dt>filename
<dd>
<p>A String representing the path to the file to use for the config file.  If
it&#39;s an absolute path, this is treated as the path to the file.  If
it&#39;s <strong>not</strong>, it&#39;s treated as relative to the
user&#39;s home directory as produced by
<code>File.expand_path(&#39;~&#39;)</code>.</p>
</dd></dl>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-config_file_source')" id="l_method-i-config_file_source">show</a>
                
              </p>
              <div id="method-i-config_file_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/gli/app.rb, line 102</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">config_file</span>(<span class="ruby-identifier">filename</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">filename</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">/^\//</span>
    <span class="ruby-ivar">@config_file</span> = <span class="ruby-identifier">filename</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-ivar">@config_file</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-constant">ENV</span>[<span class="ruby-string">&#39;HOME&#39;</span>]),<span class="ruby-identifier">filename</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">commands</span>[<span class="ruby-value">:initconfig</span>] = <span class="ruby-constant">InitConfig</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@config_file</span>,<span class="ruby-identifier">commands</span>,<span class="ruby-identifier">flags</span>,<span class="ruby-identifier">switches</span>)
  <span class="ruby-ivar">@commands_declaration_order</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">commands</span>[<span class="ruby-value">:initconfig</span>]
  <span class="ruby-ivar">@config_file</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-default_command">
            
              <b>default_command</b>(command)
            
            <a href="../../classes/GLI/App.html#method-i-default_command" name="method-i-default_command" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Sets a default command to run when none is specified on the command line. 
Note that if you use this, you won&#39;t be able to pass arguments, flags,
or switches to the command when run in default mode.  All flags and
switches are treated as global, and any argument will be interpretted as
the command name and likely fail.</p>
<dl class="rdoc-list note-list"><dt><code>command</code>
<dd>
<p><a href="Command.html">Command</a> as a Symbol to run as default</p>
</dd></dl>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-default_command_source')" id="l_method-i-default_command_source">show</a>
                
              </p>
              <div id="method-i-default_command_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/gli/app.rb, line 280</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">default_command</span>(<span class="ruby-identifier">command</span>)
  <span class="ruby-ivar">@default_command</span> = <span class="ruby-identifier">command</span>.<span class="ruby-identifier">to_sym</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-exit_now-21">
            
              <b>exit_now!</b>(message,exit_code=1)
            
            <a href="../../classes/GLI/App.html#method-i-exit_now-21" name="method-i-exit_now-21" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Simpler means of exiting with a custom exit code.  This will raise a <a
href="CustomExit.html">CustomExit</a> with the given message and exit code,
which will ultimatley cause your application to exit with the given
exit_code as its exit status Use <a
href="App.html#method-i-help_now-21">help_now!</a> if you want to show the
help in addition to the error message</p>
<dl class="rdoc-list note-list"><dt>message
<dd>
<p>message to show the user</p>
</dd><dt>exit_code
<dd>
<p>exit code to exit as, defaults to 1</p>
</dd></dl>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-exit_now-21_source')" id="l_method-i-exit_now-21_source">show</a>
                
              </p>
              <div id="method-i-exit_now-21_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/gli/app.rb, line 223</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">exit_now!</span>(<span class="ruby-identifier">message</span>,<span class="ruby-identifier">exit_code</span>=<span class="ruby-number">1</span>)
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">CustomExit</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">message</span>,<span class="ruby-identifier">exit_code</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-help_now-21">
            
              <b>help_now!</b>(message=nil)
            
            <a href="../../classes/GLI/App.html#method-i-help_now-21" name="method-i-help_now-21" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Exit now, showing the user help for the command they executed.  Use <a
href="App.html#method-i-exit_now-21">exit_now!</a> to just show the error
message</p>
<dl class="rdoc-list note-list"><dt>message
<dd>
<p>message to indicate how the user has messed up the CLI invocation or nil to
just simply show help</p>
</dd></dl>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-help_now-21_source')" id="l_method-i-help_now-21_source">show</a>
                
              </p>
              <div id="method-i-help_now-21_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/gli/app.rb, line 230</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">help_now!</span>(<span class="ruby-identifier">message</span>=<span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">exception</span> = <span class="ruby-constant">OptionParser</span><span class="ruby-operator">::</span><span class="ruby-constant">ParseError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">message</span>)
  <span class="ruby-keyword">class</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-keyword ruby-title">exception</span>
    <span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">exit_code</span>; <span class="ruby-number">64</span>; <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">raise</span> <span class="ruby-identifier">exception</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-hide_commands_without_desc">
            
              <b>hide_commands_without_desc</b>(hide=nil)
            
            <a href="../../classes/GLI/App.html#method-i-hide_commands_without_desc" name="method-i-hide_commands_without_desc" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Provide a flag to choose whether to hide or not from the help the
undescribed commands. By default the undescribed commands will be shown in
the help.</p>
<dl class="rdoc-list note-list"><dt>hide
<dd>
<p>A Bool for hide the undescribed commands</p>
</dd></dl>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-hide_commands_without_desc_source')" id="l_method-i-hide_commands_without_desc_source">show</a>
                
              </p>
              <div id="method-i-hide_commands_without_desc_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/gli/app.rb, line 69</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">hide_commands_without_desc</span>(<span class="ruby-identifier">hide</span>=<span class="ruby-keyword">nil</span>)
  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">hide</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-ivar">@hide_commands_without_desc</span> = <span class="ruby-identifier">hide</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-ivar">@hide_commands_without_desc</span> <span class="ruby-operator">||</span> <span class="ruby-keyword">false</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-on_error">
            
              <b>on_error</b>(&amp;a_proc)
            
            <a href="../../classes/GLI/App.html#method-i-on_error" name="method-i-on_error" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Define a block to run if an error occurs. The block will receive any
Exception that was caught. It should evaluate to false to avoid the
built-in error handling (which basically just prints out a message). <a
href="../GLI.html">GLI</a> uses a variety of exceptions that you can use to
find out what errors might&#39;ve occurred during command-line parsing:</p>
<ul><li>
<p><a href="CustomExit.html">GLI::CustomExit</a></p>
</li><li>
<p><a href="UnknownCommandArgument.html">GLI::UnknownCommandArgument</a></p>
</li><li>
<p><a href="UnknownGlobalArgument.html">GLI::UnknownGlobalArgument</a></p>
</li><li>
<p><a href="UnknownCommand.html">GLI::UnknownCommand</a></p>
</li><li>
<p><a href="BadCommandLine.html">GLI::BadCommandLine</a></p>
</li></ul>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-on_error_source')" id="l_method-i-on_error_source">show</a>
                
              </p>
              <div id="method-i-on_error_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/gli/app.rb, line 162</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">on_error</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">a_proc</span>)
  <span class="ruby-ivar">@error_block</span> = <span class="ruby-identifier">a_proc</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-post">
            
              <b>post</b>(&amp;a_proc)
            
            <a href="../../classes/GLI/App.html#method-i-post" name="method-i-post" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Define a block to run after the command was executed, <strong>only if there
was not an error</strong>. The block will receive the
global-options,command,options, and arguments</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-post_source')" id="l_method-i-post_source">show</a>
                
              </p>
              <div id="method-i-post_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/gli/app.rb, line 126</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">post</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">a_proc</span>)
  <span class="ruby-ivar">@post_block</span> = <span class="ruby-identifier">a_proc</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-pre">
            
              <b>pre</b>(&amp;a_proc)
            
            <a href="../../classes/GLI/App.html#method-i-pre" name="method-i-pre" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Define a block to run after command line arguments are parsed but before
any command is run.  If this block raises an exception the command
specified will not be executed. The block will receive the
global-options,command,options, and arguments If this block evaluates to
true, the program will proceed; otherwise the program will end immediately
and exit nonzero</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-pre_source')" id="l_method-i-pre_source">show</a>
                
              </p>
              <div id="method-i-pre_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/gli/app.rb, line 119</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">pre</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">a_proc</span>)
  <span class="ruby-ivar">@pre_block</span> = <span class="ruby-identifier">a_proc</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-preserve_argv">
            
              <b>preserve_argv</b>(preserve=true)
            
            <a href="../../classes/GLI/App.html#method-i-preserve_argv" name="method-i-preserve_argv" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>By default, <a href="../GLI.html">GLI</a> mutates the argument passed to
it.  This is consistent with <code>OptionParser</code>, but be less than
ideal.  Since that value, for scaffolded apps, is <code>ARGV</code>, you
might want to refer to the entire command-line via <code>ARGV</code> and
thus not want it mutated.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-preserve_argv_source')" id="l_method-i-preserve_argv_source">show</a>
                
              </p>
              <div id="method-i-preserve_argv_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/gli/app.rb, line 179</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">preserve_argv</span>(<span class="ruby-identifier">preserve</span>=<span class="ruby-keyword">true</span>)
  <span class="ruby-ivar">@preserve_argv</span> = <span class="ruby-identifier">preserve</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-program_desc">
            
              <b>program_desc</b>(description=nil)
            
            <a href="../../classes/GLI/App.html#method-i-program_desc" name="method-i-program_desc" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Describe the overall application/programm.  This should be a one-sentence
summary of what your program does that will appear in the help output.</p>
<dl class="rdoc-list note-list"><dt><code>description</code>
<dd>
<p>A String of the short description of your program&#39;s purpose</p>
</dd></dl>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-program_desc_source')" id="l_method-i-program_desc_source">show</a>
                
              </p>
              <div id="method-i-program_desc_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/gli/app.rb, line 47</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">program_desc</span>(<span class="ruby-identifier">description</span>=<span class="ruby-keyword">nil</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">description</span>
    <span class="ruby-ivar">@program_desc</span> = <span class="ruby-identifier">description</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-ivar">@program_desc</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-program_long_desc">
            
              <b>program_long_desc</b>(description=nil)
            
            <a href="../../classes/GLI/App.html#method-i-program_long_desc" name="method-i-program_long_desc" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Provide a longer description of the program.  This can be as long as
needed, and use double-newlines for paragraphs.  This will show up in the
help output.</p>
<dl class="rdoc-list note-list"><dt>description
<dd>
<p>A String for the description</p>
</dd></dl>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-program_long_desc_source')" id="l_method-i-program_long_desc_source">show</a>
                
              </p>
              <div id="method-i-program_long_desc_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/gli/app.rb, line 58</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">program_long_desc</span>(<span class="ruby-identifier">description</span>=<span class="ruby-keyword">nil</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">description</span>
    <span class="ruby-ivar">@program_long_desc</span> = <span class="ruby-identifier">description</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-ivar">@program_long_desc</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-skips_around">
            
              <b>skips_around</b>()
            
            <a href="../../classes/GLI/App.html#method-i-skips_around" name="method-i-skips_around" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Use this if the following command should not have the around block
executed. By default, the around block is executed, but for commands that
might not want the setup to happen, this can be handy</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-skips_around_source')" id="l_method-i-skips_around_source">show</a>
                
              </p>
              <div id="method-i-skips_around_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/gli/app.rb, line 93</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">skips_around</span>
  <span class="ruby-ivar">@skips_around</span> = <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-skips_post">
            
              <b>skips_post</b>()
            
            <a href="../../classes/GLI/App.html#method-i-skips_post" name="method-i-skips_post" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Use this if the following command should not have the post block executed.
By default, the post block is executed after each command. Using this will
avoid that behavior for the following command</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-skips_post_source')" id="l_method-i-skips_post_source">show</a>
                
              </p>
              <div id="method-i-skips_post_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/gli/app.rb, line 86</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">skips_post</span>
  <span class="ruby-ivar">@skips_post</span> = <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-skips_pre">
            
              <b>skips_pre</b>()
            
            <a href="../../classes/GLI/App.html#method-i-skips_pre" name="method-i-skips_pre" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Use this if the following command should not have the pre block executed.
By default, the pre block is executed before each command and can result in
aborting the call.  Using this will avoid that behavior for the following
command</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-skips_pre_source')" id="l_method-i-skips_pre_source">show</a>
                
              </p>
              <div id="method-i-skips_pre_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/gli/app.rb, line 79</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">skips_pre</span>
  <span class="ruby-ivar">@skips_pre</span> = <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-sort_help">
            
              <b>sort_help</b>(sort_type)
            
            <a href="../../classes/GLI/App.html#method-i-sort_help" name="method-i-sort_help" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Control how commands and options are sorted in help output.  By default,
they are sorted alphabetically.</p>
<dl class="rdoc-list note-list"><dt>sort_type
<dd>
<p>How you want help commands/options sorted:</p>
<dl class="rdoc-list note-list"><dt><code>:manually</code>
<dd>
<p>help commands/options are ordered in the order declared.</p>
</dd><dt><code>:alpha</code>
<dd>
<p>sort alphabetically (default)</p>
</dd></dl>
</dd></dl>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-sort_help_source')" id="l_method-i-sort_help_source">show</a>
                
              </p>
              <div id="method-i-sort_help_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/gli/app.rb, line 243</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">sort_help</span>(<span class="ruby-identifier">sort_type</span>)
  <span class="ruby-ivar">@help_sort_type</span> = <span class="ruby-identifier">sort_type</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-subcommand_option_handling">
            
              <b>subcommand_option_handling</b>(handling_strategy)
            
            <a href="../../classes/GLI/App.html#method-i-subcommand_option_handling" name="method-i-subcommand_option_handling" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>How to handle subcommand options.  In general, you want to set this to
<code>:normal</code>, which treats each subcommand as establishing its own
namespace for options.  This is what the scaffolding should generate, but
it is <strong>not</strong> what <a href="../GLI.html">GLI</a> 2.5.x and
lower apps had as a default. To maintain backwards compatibility, the
default is <code>:legacy</code>, which is that all subcommands of a
particular command share a namespace for options, making it impossible for
two subcommands to have options of the same name.</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-subcommand_option_handling_source')" id="l_method-i-subcommand_option_handling_source">show</a>
                
              </p>
              <div id="method-i-subcommand_option_handling_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/gli/app.rb, line 290</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">subcommand_option_handling</span>(<span class="ruby-identifier">handling_strategy</span>)
  <span class="ruby-ivar">@subcommand_option_handling_strategy</span> = <span class="ruby-identifier">handling_strategy</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-synopsis_format">
            
              <b>synopsis_format</b>(format)
            
            <a href="../../classes/GLI/App.html#method-i-synopsis_format" name="method-i-synopsis_format" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Control how the SYNOPSIS is formatted.</p>
<dl class="rdoc-list note-list"><dt>format
<dd>
<p>one of:</p>
<dl class="rdoc-list note-list"><dt>:full
<dd>
<p>the default, show subcommand options and flags inline</p>
</dd><dt><code>:terminal</code>
<dd>
<p>if :full would be wider than the terminal, use :compact</p>
</dd><dt><code>:compact</code>
<dd>
<p>use a simpler and shorter SYNOPSIS.  Useful if your app has a lot of
options and showing them in the SYNOPSIS makes things more confusing</p>
</dd></dl>
</dd></dl>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-synopsis_format_source')" id="l_method-i-synopsis_format_source">show</a>
                
              </p>
              <div id="method-i-synopsis_format_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/gli/app.rb, line 265</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">synopsis_format</span>(<span class="ruby-identifier">format</span>)
  <span class="ruby-ivar">@synopsis_format_type</span> = <span class="ruby-identifier">format</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-use_openstruct">
            
              <b>use_openstruct</b>(use_openstruct)
            
            <a href="../../classes/GLI/App.html#method-i-use_openstruct" name="method-i-use_openstruct" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Call this with <code>true</code> will cause the <code>global_options</code>
and <code>options</code> passed to your code to be wrapped in <a
href="Options.html">Options</a>, which is a subclass of
<code>OpenStruct</code> that adds <code>[]</code> and <code>[]=</code>
methods.</p>
<dl class="rdoc-list note-list"><dt><code>use_openstruct</code>
<dd>
<p>a Boolean indicating if we should use OpenStruct instead of Hashes</p>
</dd></dl>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-use_openstruct_source')" id="l_method-i-use_openstruct_source">show</a>
                
              </p>
              <div id="method-i-use_openstruct_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/gli/app.rb, line 189</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">use_openstruct</span>(<span class="ruby-identifier">use_openstruct</span>)
  <span class="ruby-ivar">@use_openstruct</span> = <span class="ruby-identifier">use_openstruct</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-version">
            
              <b>version</b>(version)
            
            <a href="../../classes/GLI/App.html#method-i-version" name="method-i-version" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Indicate the version of your application</p>
<dl class="rdoc-list note-list"><dt>version
<dd>
<p>String containing the version of your application.</p>
</dd></dl>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-version_source')" id="l_method-i-version_source">show</a>
                
              </p>
              <div id="method-i-version_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/gli/app.rb, line 169</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">version</span>(<span class="ruby-identifier">version</span>)
  <span class="ruby-ivar">@version</span> = <span class="ruby-identifier">version</span>
  <span class="ruby-identifier">desc</span> <span class="ruby-string">&#39;Display the program version&#39;</span>
  <span class="ruby-identifier">switch</span> <span class="ruby-value">:version</span>, <span class="ruby-value">:negatable</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-wrap_help_text">
            
              <b>wrap_help_text</b>(wrap_type)
            
            <a href="../../classes/GLI/App.html#method-i-wrap_help_text" name="method-i-wrap_help_text" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Set how help text is wrapped.</p>
<dl class="rdoc-list note-list"><dt>wrap_type
<dd>
<p>Symbol indicating how you&#39;d like text wrapped:</p>
<dl class="rdoc-list note-list"><dt>:to_terminal
<dd>
<p>Wrap text based on the width of the terminal (default)</p>
</dd><dt><code>:verbatim</code>
<dd>
<p>Format text exactly as it was given to the various methods.  This is useful
if your output has formatted output, e.g. ascii tables and you don&#39;t
want it messed with.</p>
</dd><dt><code>:one_line</code>
<dd>
<p>Do not wrap text at all.  This will bring all help content onto one line,
removing any newlines</p>
</dd><dt><code>:tty_only</code>
<dd>
<p>Wrap like <code>:to_terminal</code> if this output is going to a TTY,
otherwise don&#39;t wrap (like <code>:one_line</code>)</p>
</dd></dl>
</dd></dl>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-wrap_help_text_source')" id="l_method-i-wrap_help_text_source">show</a>
                
              </p>
              <div id="method-i-wrap_help_text_source" class="dyn-source">
                <pre><span class="ruby-comment"># File lib/gli/app.rb, line 255</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">wrap_help_text</span>(<span class="ruby-identifier">wrap_type</span>)
  <span class="ruby-ivar">@help_text_wrap_type</span> = <span class="ruby-identifier">wrap_type</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
                    </div>

    </div>
  </body>
</html>
